<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <style>
        body {
            text-align: center; /* Center everything horizontally */
        }

        table {
            margin: 0 auto; /* Center the table horizontally */
            border: 1px solid black;
            border-collapse: collapse;
            table-layout: fixed;
            white-space: nowrap;
        }

        td, th {
            text-align: center;
            border: 1px solid black;
            padding: 8px;
        }

        .form-container {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        /* Add vertical-align for td elements */
        td {
            vertical-align: middle;
        }
    </style>
</head>

<body>
 <h1> Story Tracker </h1>
	
	<h3> Make a new Story to track! </h3>
	
		<form action="/addTracker" method="post">
				<label> Story Name:</label>
	 			<input name = "name" pattern=".{1,100}" required title="1 characters minimum, 100 maximum">
				<label> Category: </label>
					<select  name = "category">
					<option th:each="c :${categoriesList}"
					th:value = "${c.id}"
					th:text = "${c.name}"/>
				</select>
	
				<label> Status: </label>
				<select name = "status">
					<option th:each="s :${statusList}"
					th:value = "${s.id}"
					th:text = "${s.name}"/>
				</select>
				<br><br>
			
				<label> Track Progress With Notes: 
					  <input name = "progress" pattern=".{1,40}" required title="1 character minimum, 100 maximum">
				<button  class = "button" type="Add">Add a Story</button>	
			</form>
	
		<br><br>
		
	<table class = "table">
		<tr>
			<th>id</th>
			<th>Name</th>
			<th>Category</th>
			<th>Status</th>
			<th>Progress</th>
			<th>Created On</th>
			<th>Last Read</th>
			<th> Actions </th>
		</tr>
		<th:if "${trackerList!=null}">
				<tr th:each="tracker : ${trackerList}"> 
					<td th:text="${tracker.id}" />
					<td th:text="${tracker.name}"/>
					<td th:text="${tracker.category.name}"/>
					<td th:text="${tracker.status.name}"/>
					<td th:text="${tracker.progress}"/>
					<td th:text="${tracker.createdOn}"/>
					<td th:text="${tracker.lastRead}"/>		
					<td class="form-container">
							<form  action="edit" method="post" id="edit_form">
							<input type="hidden" name = "editId" th:value="${tracker.id}">
							<input  type="submit" value="Edit">
						</form> &nbsp;
						<form  action="delete" method="post" id="delete_form">
							<input type="hidden" name="idDelete" th:value="${tracker.id}">
							<input  type="submit" value="Delete">
						</form>
					</td>
				</tr>
				
		</table>
</body>
</html>
