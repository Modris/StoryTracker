<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	  <link rel="stylesheet" type="text/css" th:href="@{/css/mainStyle.css}"> 
<script>
	function logout(){
		document.getElementById('logout').submit();
	}
</script>


</head>

<body>
 <form th:action="@{/logout}" method="post" id="logout">
            </form>
<nav id="navbar"> 
    <ul>
	<li><a class="home" href="/home">Home</a></li>
  	  <li>
	  	  <button class = "btn" type="submit" onclick="logout()"> Logout </button>  
	  </li> 

	</ul> 
  	<img src="/images/logo4.png" height="101" width="110" alt="Logo image"> 
 
    </nav> 
    
	<div id ="mainPageCenter">
			
	<div class = "container2EditStory">
		<h3 class = "intro"> Edit Story </h3>
	</div>
	
	<table class = "table">
		<tr>
			<th>Story Name</th>
			<th>Category</th>
			<th>Status</th>
			<th>Progress</th>
			<th>Submit </th>
		</tr>
		<tr>
			<form th:action="@{/editSaved}" method="post">
				<input type="hidden" th:value="${tracker.id}" name="id"/>
	
				
			<td>
				
	 			<input th:value = "${tracker.name}" name = "name" pattern=".{1,100}" required title="1 characters minimum, 100 maximum">
			</td>
			<td>	
					<select  name = "category">
					<option th:each="c :${categoriesList}"
					th:value = "${c.id}"
					th:text = "${c.name}"
					th:selected="${tracker.category.name == c.name}"/>
				</select>
			</td>
			<td>
				<select name = "status">
					<option th:each="s :${statusList}"
					th:value = "${s.id}"
					th:text = "${s.name}"
					th:selected="${tracker.status.name == s.name}"/>
				</select>
			</td>
			<td>
				<input th:value="${tracker.progress}"name = "progress" pattern=".{1,40}" required title="1 character minimum, 40 maximum">
				
			</td>
			<td class="padded">
				<button  class = "homeApply" type="Add">Save</button>	
			</td>
				<input type="hidden" name="createdOnNoTrackerBind" th:value="${createdOnAnswer}" />
		 		<input type="hidden" name="lastModifiedNoTrackerBind" th:value="${lastModifiedAnswer}" />
				<input type="hidden" name="lastReadNoTrackerBind" th:value="${lastReadAnswer}" />
				<input type="hidden" name="lastReadDaysNoTrackerBind" th:value="${lastReadDaysAnswer}" />
				<input type="hidden" name="currentPage" th:value="${currentPage}">
				<input type="hidden" name="pageSize" th:value="${pageSize}">
				<input type="hidden" name="sortField" th:value="${sortField}">
				<input type="hidden" name="sortDir" th:value="${sortDir}">
							
			
			
		</tr>
		<tr >
			<td class="paddedv2"> Created on: </td>
			<td class="paddedv2"> <input type="datetime-local" th:value="${createdOnDate}" name="createdOn"></td>
			<td class="paddedv2"> Last Read Date: </td>
			<td class="paddedv2">  <input type="datetime-local"th:value="${lastModifiedDate}"  name="lastModified"></td>
			<td> </td>
		</tr>
		</form>
	</table>
	<p th:text="${lastModifiedAnswer}"/>



</div>


		
	
</body>
</html>